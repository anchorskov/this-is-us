<script>
    document.addEventListener("DOMContentLoaded", () => {
      const checkFirebase = setInterval(() => {
        if (typeof firebase !== "undefined" && firebase.auth) {
          clearInterval(checkFirebase);
  
          firebase.auth().onAuthStateChanged(user => {
            const createEventLink = document.querySelector('a[href="/events/create/"]');
            if (!createEventLink) return;

            if (!user || !user.emailVerified) {
              createEventLink.classList.add("pointer-events-none", "o-50");
              createEventLink.title = "Login to create events";
            } else {
              createEventLink.classList.remove("pointer-events-none", "o-50");
              createEventLink.title = "Create a new event";
            }
          });
        }
      }, 300);
    });
  </script>
  