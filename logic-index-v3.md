# Logic Index â€“ This Is Us Project (v3.3)

### `logic-index.md`

**Summary**: # Logic Index â€“ This Is Us Project (v2)

**Definitions**:
- `(no defs)`


### `README.md`

**Summary**: // README.md

**Definitions**:
- `extract_definitions`
- `extract_summary`
- `walk_directory`


### `tailwind.config.js`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `logic-index-v3.md`

**Summary**: # Logic Index â€“ This Is Us Project (v3.2 Optimized)

**Definitions**:
- `(no defs)`


### `config.toml`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `setup_this_is_us.py`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `contentballot.md`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `data/0002_seed_townhall_posts.sql`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `data/0001_create_townhall_posts.sql`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `tests/conftest.py`

**Summary**: # tests/conftest.py

**Definitions**:
- `clear_preview_db`


### `tests/test_events_api.py`

**Summary**: # tests/test_events_api.py

**Definitions**:
- `test_create_event`
- `test_duplicate_pdf`


### `ballots/wrangler.toml`

**Summary**: # ballots/wrangler.toml

**Definitions**:
- `(no defs)`


### `ballots/src/index.mjs`

**Summary**: // ballots/src/index.mjs

**Definitions**:
- `withCors`


### `ballots/tools/fetchBallotForZip.js`

**Summary**: // ballots/tools/fetchBallotForZip.js

**Definitions**:
- `fetchBallotForZip`


### `ballots/tools/generateBallotFromSources.js`

**Summary**: // ballots/tools/generateBallotFromSources.js

**Definitions**:
- `generateBallotFromSources`


### `worker/wrangler.toml`

**Summary**: # File: worker/wrangler.toml

**Definitions**:
- `(no defs)`


### `worker/src/index.mjs`

**Summary**: // worker/src/index.mjs

**Definitions**:
- `(no defs)`


### `worker/src/routes/sandbox.js`

**Summary**: // worker/src/routes/sandbox.js

**Definitions**:
- `handleSandboxAnalyze`


### `worker/src/townhall/listPosts.js`

**Summary**: // worker/src/routes/townhall/listPost.js

**Definitions**:
- `handleListTownhallPosts`


### `worker/src/townhall/deletePost.js`

**Summary**: // worker/src/routes/townhall/deletePost.js

**Definitions**:
- `handleDeleteTownhallPost`


### `worker/src/townhall/createPost.js`

**Summary**: // worker/src/townhall/createPost.js

**Definitions**:
- `handleCreateTownhallPost`


### `worker/src/townhall/utils.js`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `worker/migrations/0002_add_contact_fields.sql`

**Summary**: -- Migration number: 0002 	 2025-05-06T01:59:36.409Z

**Definitions**:
- `(no defs)`


### `worker/migrations/0001_add_events_table.sql`

**Summary**: -- Migration number: 0001 	 2025-05-05T12:07:43.590Z

**Definitions**:
- `(no defs)`


### `_dev/townhall_stubs/active.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `_dev/townhall_stubs/thread.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `_dev/townhall_stubs/create.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `_dev/townhall_stubs/threads.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `_dev/townhall_stubs/townhall-interactive.js`

**Summary**: // /static/js/townhall-interactive.js

**Definitions**:
- `loadReplies`
- `loadThreads`


### `scripts/summarize-logic.py`

**Summary**: # scripts/summarize-logic-v3.3.py

**Definitions**:
- `check_layout_coverage`
- `extract_definitions`
- `extract_summary`
- `list_townhall_threads`
- `should_ignore`
- `walk_directory`


### `layouts/index.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/_default/candidates-single.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/_default/single.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/_default/baseof.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/_default/list.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/_default/onthemeupdate.md`

**Summary**: # onthemeupdate.md

**Definitions**:
- `(no defs)`


### `layouts/shortcodes/card.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/shortcodes/sandboxpromo.html`

**Summary**: (no summary)

**Definitions**:
- `checkSandboxAuth`


### `layouts/shortcodes/candidates-list.html`

**Summary**: (no summary)

**Definitions**:
- `candidateList`


### `layouts/login/single.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/admin/users.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/admin/threads.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/ballot/list.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/ballot/index.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/section/townhall.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/account/single.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/sandbox/single.html`

**Summary**: (no summary)

**Definitions**:
- `sandboxGate`


### `layouts/sandbox/interactive.html`

**Summary**: (no summary)

**Definitions**:
- `sandboxFlow`


### `layouts/events/single.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/events/create.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/events/section.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/events/hub.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/candidates/list.html`

**Summary**: (no summary)

**Definitions**:
- `candidateList`


### `layouts/candidates/upload.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/townhall/map.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/townhall/reply-form.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/townhall/single.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/townhall/thread.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/townhall/create.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/townhall/threads.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/townhall/thread/single.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/cover.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/index_profile.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/author.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/home_info.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/extend_head.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/footer.html`

**Summary**: (no summary)

**Definitions**:
- `copyingDone`


### `layouts/partials/site-scripts.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/event-card.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/firebase-init.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/floating-auth.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/extend_footer.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/anchored_headings.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/post_meta.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/breadcrumbs.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/head.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/header.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/google_analytics.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/event-form.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/templates/twitter_cards.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/templates/schema_json.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/templates/opengraph.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/_funcs/get-page-images.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/events/map-controls.html`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `layouts/partials/candidates/warrior-directory.html`

**Summary**: (no summary)

**Definitions**:
- `candidateList`


### `content/donate.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/manifesto.md`

**Summary**: ---

**Definitions**:
- `when`


### `content/volunteer.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/credits.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/podcast.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/_index.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/about.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/voices.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/contact.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/account.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/login/index.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/ballot/_index.md`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `content/sandbox/index.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/events/hub.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/events/create.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/events/_index.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/candidates/_index.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/candidates/upload.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/townhall/map.md`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `content/townhall/_index.md`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `content/townhall/create/index.md`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `content/townhall/threads/_index.md`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `content/townhall/thread/test-thread.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `content/townhall/thread/_index.md`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `static/js/admin-threads.js`

**Summary**: // static/js/admin-threads.js

**Definitions**:
- `(no defs)`


### `static/js/firebase-auth-guard.js`

**Summary**: // /static/js/firebase-auth-guard.js

**Definitions**:
- `(no defs)`


### `static/js/events.js`

**Summary**: // Cleaned events.js

**Definitions**:
- `(no defs)`


### `static/js/townhall.js`

**Summary**: // static/js/townhall.js // Handles Firebase-authenticated Town Hall posts via Cloudflare D1 and R2

**Definitions**:
- `fetchResponses`
- `prependResponse`


### `static/js/thread-replies.js`

**Summary**: // /static/js/thread-replies.js

**Definitions**:
- `(no defs)`


### `static/js/account.js`

**Summary**: // Logic for populating and updating the /account/ page with Firebase authentication and Firestore

**Definitions**:
- `showFeedback`


### `static/js/firebase-session.js`

**Summary**: // static/js/firebase-session.js

**Definitions**:
- `(no defs)`


### `static/js/firebase-idle-logout.js`

**Summary**: // static/js/firebase-idle-logout.js

**Definitions**:
- `(no defs)`


### `static/js/event-list.js`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `static/js/firebase-ui-config.js`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `static/js/firebase-config.js`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `static/js/reply-form.js`

**Summary**: // static/js/reply-form.js

**Definitions**:
- `(no defs)`


### `static/js/firebase-login.js`

**Summary**: // static/js/firebase-login.js

**Definitions**:
- `(no defs)`


### `static/js/admin-users.js`

**Summary**: // static/js/admin-users.js

**Definitions**:
- `renderTable`


### `static/js/leafletzipsearch.js`

**Summary**: (no summary)

**Definitions**:
- `createZipSearchBox`
- `handleZipSearch`


### `static/js/utils/safe-fetch.js`

**Summary**: (no summary)

**Definitions**:
- `safeFetch`


### `static/js/utils/parse-latlng.js`

**Summary**: // static/js/utils/parse-latlng.js

**Definitions**:
- `parseLatLng`


### `static/js/events/ui-feedback.js`

**Summary**: // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” // Simple DOM selector // â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” /**

**Definitions**:
- `bindPdfPreview`
- `showError`
- `showSuccess`
- `showSuccessModal`
- `showToast`
- `toggleLoading`


### `static/js/events/event-map.js`

**Summary**: // static/js/events/event-map.js

**Definitions**:
- `bindAddressSearch`
- `initMap`
- `setMarker`


### `static/js/events/event-form.js`

**Summary**: // static/js/events/event-form.js

**Definitions**:
- `bindConfirm`
- `bindFormLogic`
- `handlePreview`
- `handleSubmit`
- `renderForm`
- `resetForm`


### `static/js/events/validation-utils.js`

**Summary**: // validation-utils.js â€” Reusable field validation utilities

**Definitions**:
- `areRequiredFieldsPresent`
- `isFutureDate`
- `isValidEmail`
- `isValidPhone`


### `static/js/events/preview-renderer.js`

**Summary**: // static/js/events/preview-renderer.js

**Definitions**:
- `renderPreview`


### `static/js/events/index.js`

**Summary**: // static/js/events/index.js

**Definitions**:
- `(no defs)`


### `static/js/events/events-discover.js`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `static/js/events/submit-event.js`

**Summary**: // static/js/events/submit-event.js

**Definitions**:
- `submitEvent`


### `static/js/events/form-state.js`

**Summary**: (no summary)

**Definitions**:
- `collectFormData`


### `static/js/events/populate-map.js`

**Summary**: // static/js/events/populate-map.js

**Definitions**:
- `populateMap`


### `static/js/events/error-manager.js`

**Summary**: // static/js/events/error-manager.js

**Definitions**:
- `getUserFriendlyError`


### `static/js/events/hub.js`

**Summary**: // static/js/events/hub.js

**Definitions**:
- `initHub`
- `renderEvents`
- `zoomToZip`


### `static/js/townhall/threads.js`

**Summary**: /*  static/js/townhall/threads.js

**Definitions**:
- `(no defs)`


### `static/js/townhall/active.js`

**Summary**: // /static/js/townhall/active.js // Placeholder for future 'active threads' logic

**Definitions**:
- `(no defs)`


### `static/js/townhall/home.js`

**Summary**: // static/js/townhall/home.js /* ---------------------------------------------------------

**Definitions**:
- `attachFAB`
- `attachLocationControls`
- `attachTabs`
- `geocode`
- `getUserLocation`
- `initUI`
- `loadMine`
- `loadNearby`
- `loadTrending`
- `renderThreads`
- `showMap`


### `static/js/townhall/create.js`

**Summary**: /*  static/js/townhall/create.js

**Definitions**:
- `(no defs)`


### `static/js/townhall/map.js`

**Summary**: /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

**Definitions**:
- `zoomToZip`


### `static/js/townhall/thread.js`

**Summary**: /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

**Definitions**:
- `renderSkeleton`
- `streamReplies`
- `streamThread`
- `wireReplyForm`


### `firebase-seeder/seed.js`

**Summary**: // firebase-seeder/seed.js // Seeds townhall_threads with coordinates

**Definitions**:
- `seedTownhallThreads`


### `archetypes/default.md`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `archive_content/podcast.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `archive_content/_index.md`

**Summary**: --- ---

**Definitions**:
- `(no defs)`


### `archive_content/events.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `archive_content/about.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `archive_content/voices.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `archive_content/contact.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `archive_content/learn.md`

**Summary**: ---

**Definitions**:
- `(no defs)`


### `mcp/wrangler.toml`

**Summary**: # ./wrangler.toml

**Definitions**:
- `(no defs)`


### `mcp/src/index.mjs`

**Summary**: // mcp/src/index.mjs

**Definitions**:
- `(no defs)`


### `mcp/src/routes/candidate-upload.js`

**Summary**: // src/routes/candidate-upload.js

**Definitions**:
- `handleCandidateUpload`


### `mcp/src/routes/candidate-file.js`

**Summary**: // mcp/src/routes/candidate-file.js

**Definitions**:
- `handleCandidateFile`


### `mcp/src/routes/candidate-confirm.js`

**Summary**: // mcp/src/routes/candidate-confirm.js

**Definitions**:
- `handleCandidateConfirm`


### `mcp/migrations/0003_add_candidates_table.sql`

**Summary**: (no summary)

**Definitions**:
- `(no defs)`


### `mcp/tools/subscribeToAlerts.js`

**Summary**: (no summary)

**Definitions**:
- `subscribeToAlerts`


### `mcp/tools/listCandidates.js`

**Summary**: (no summary)

**Definitions**:
- `listCandidates`


### `mcp/tools/parseCandidatePdf.js`

**Summary**: // mcp/tools/parseCandidatePdf.js

**Definitions**:
- `parseCandidatePdf`


### `mcp/tools/warrior.mjs`

**Summary**: // mcp/src/tools/warrior.mjs

**Definitions**:
- `listWarriors`


### `mcp/tools/insertParsedCandidate.js`

**Summary**: // mcp/tools/insertParsedCandidate.js

**Definitions**:
- `insertParsedCandidate`


### `mcp/tools/getCandidatePdf.js`

**Summary**: (no summary)

**Definitions**:
- `getCandidatePdf`


### `mcp/tools/processCandidateUpload.js`

**Summary**: // mcp/tools/processCandidateUpload.js

**Definitions**:
- `processCandidateUpload`


## ğŸ§± Layout Check â€“ Do content sections have layout files?

- `layouts/./single.html` â†’ âŒ Missing
- `layouts/ballot/single.html` â†’ âŒ Missing
- `layouts/candidates/single.html` â†’ âŒ Missing
- `layouts/events/single.html` â†’ âœ… Found
- `layouts/login/single.html` â†’ âœ… Found
- `layouts/sandbox/single.html` â†’ âœ… Found
- `layouts/townhall/single.html` â†’ âœ… Found

## ğŸ—‚ Town Hall Pages (Expected URLs)

- `/townhall/thread/test-thread`
- `/townhall/thread/_index`