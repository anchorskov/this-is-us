â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  CIVIC WATCH PHASE 2 PLANNING â€“ MASTER INDEX
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… PHASE 2 DESIGN COMPLETE & READY FOR IMPLEMENTATION

Date: December 8, 2025
Status: ğŸŸ¢ READY FOR TEAM REVIEW

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ FILES IN THIS EXPORT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. ğŸ“š START HERE (RECOMMENDED READING ORDER):
   
   PHASE_2_DESIGN_SUMMARY.txt (19 KB)
   â””â”€ Executive overview of Phase 2 architecture
     â”œâ”€ Goals & scope
     â”œâ”€ Data model overview (tables, fields)
     â”œâ”€ API endpoints quick reference
     â”œâ”€ Implementation checklist
     â”œâ”€ Future extensions (Phase 2b+)
     â””â”€ Design decisions & rationale
   
   Read this first for 10-minute overview

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

2. ğŸ“– COMPREHENSIVE REFERENCE:
   
   SNAPSHOT_120625_COMPREHENSIVE_WITH_PHASE2.md (52 KB)
   â””â”€ Complete Civic Watch documentation including Phase 2
     â”œâ”€ Phase 1: Civic Watch Front Door (current)
     â”œâ”€ Phase 1: Town Hall Posts API (current)
     â”œâ”€ Phase 2: Sponsors & Delegation (NEW - lines 851-1128)
     â”‚  â”œâ”€ Overview & design principles
     â”‚  â”œâ”€ bill_sponsors table (full DDL)
     â”‚  â”œâ”€ wy_legislators table (full DDL)
     â”‚  â”œâ”€ /api/civic/bill-sponsors endpoint
     â”‚  â”œâ”€ /api/civic/delegation/preview endpoint
     â”‚  â”œâ”€ Data relationships & flow
     â”‚  â”œâ”€ Integration examples (frontend code)
     â”‚  â””â”€ Migration checklist
     â”œâ”€ Phase 2+ Gaps (Ideas, Town Halls)
     â””â”€ Security & Performance sections
   
   Use as single source of truth for all Civic Watch APIs and data models

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

3. ğŸ”§ IMPLEMENTATION GUIDES:
   
   PHASE_2_API_SPECS.md (6.2 KB)
   â””â”€ Detailed API endpoint specifications (ready for developers)
     â”œâ”€ Endpoint 1: /api/civic/bill-sponsors
     â”‚  â”œâ”€ Request parameters
     â”‚  â”œâ”€ Success response (200 OK)
     â”‚  â”œâ”€ Empty response
     â”‚  â””â”€ Error cases (400, 404, 500)
     â”œâ”€ Endpoint 2: /api/civic/delegation/preview
     â”‚  â”œâ”€ Request parameters
     â”‚  â”œâ”€ Success response (200 OK)
     â”‚  â”œâ”€ Partial & empty responses
     â”‚  â””â”€ Error cases
     â”œâ”€ Implementation notes (SQL patterns, indices, CORS)
     â””â”€ Performance & caching considerations
   
   Share with backend developers implementing the handlers

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

4. ğŸ—„ï¸ DATABASE MIGRATIONS:
   
   0012_create_bill_sponsors.sql (2.0 KB)
   â””â”€ Migration file for bill_sponsors table
     â”œâ”€ Table creation with 9 columns
     â”œâ”€ Constraints & foreign keys
     â”œâ”€ 3 indices for query optimization
     â””â”€ Detailed comments
   
   âš™ï¸ Copy to: worker/migrations_wy/0012_create_bill_sponsors.sql
   âš™ï¸ Apply with: wrangler d1 execute WY_DB --remote < 0012_...

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

   0013_create_wy_legislators.sql (2.6 KB)
   â””â”€ Migration file for wy_legislators table
     â”œâ”€ Table creation with 13 columns
     â”œâ”€ Composite unique constraint (seat_id)
     â”œâ”€ 3 indices for query optimization
     â””â”€ Detailed comments
   
   âš™ï¸ Copy to: worker/migrations_wy/0013_create_wy_legislators.sql
   âš™ï¸ Apply with: wrangler d1 execute WY_DB --remote < 0013_...

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ QUICK FACTS ABOUT PHASE 2
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

SCOPE:
â”œâ”€ Add bill sponsor tracking (who introduced each bill)
â”œâ”€ Add legislator directory (with contact info)
â”œâ”€ Add county-based delegation lookup ("Your representatives")
â””â”€ Foundation for future "contact your rep" features

DATA MODEL:
â”œâ”€ 2 new tables (bill_sponsors, wy_legislators)
â”œâ”€ ~900 lines of documentation added to SNAPSHOT
â”œâ”€ No changes to Phase 1 tables (fully backward compatible)
â””â”€ Designed for county-based delegation (geocoding deferred to Phase 2b)

APIS:
â”œâ”€ GET /api/civic/bill-sponsors?bill_id=...&role=...&chamber=...
â”œâ”€ GET /api/civic/delegation/preview?county=...&state=...
â”œâ”€ Both public (no auth required)
â”œâ”€ Both designed for <50ms latency
â””â”€ Full error handling (400, 404, 500)

TABLES:
â”œâ”€ bill_sponsors: One row per sponsor-bill pair
â”‚  â””â”€ 9 columns (name, role, district, contact, timestamps)
â”œâ”€ wy_legislators: One row per legislator per session
â”‚  â””â”€ 13 columns (seat_id, name, chamber, contacts, county_assignment)
â””â”€ Both indexed for optimal query performance

MIGRATION COMPLEXITY:
â”œâ”€ Low-risk (new tables only, no schema changes to Phase 1)
â”œâ”€ ~150 legislators to seed (one-time import)
â”œâ”€ ~500 bill-sponsor relationships to seed (from OpenStates)
â””â”€ No data migration required

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… IMPLEMENTATION ROADMAP
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

PHASE 2 (This week - Week 2, 2025):
â”œâ”€ Day 1: Review & approve design
â”œâ”€ Day 2: Apply migrations locally
â”œâ”€ Day 3: Seed wy_legislators & bill_sponsors tables
â”œâ”€ Day 4: Implement API handlers
â”œâ”€ Day 5: Write tests & verify
â””â”€ Day 6-7: Deploy to staging & production

PHASE 2B (Next - Geocoding auto-delegation):
â”œâ”€ Add geocoding to map address â†’ county â†’ delegation
â”œâ”€ Integrate with user preferences system
â””â”€ Auto-show user's delegation on Civic Watch

PHASE 2C (Future - Legislator voting):
â”œâ”€ Track legislator votes from OpenStates
â”œâ”€ Link to bills matching user's topics
â””â”€ Show "How your rep voted"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… DESIGN QUALITY CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âœ“ Backward compatible (no Phase 1 changes)
âœ“ Normalized data model (minimize redundancy)
âœ“ Strategic denormalization (chamber in bill_sponsors for speed)
âœ“ Indexed for production (all critical queries have indices)
âœ“ Error handling defined (400, 404, 500 cases documented)
âœ“ Sample JSON provided (developers can copy-paste examples)
âœ“ SQL migration files ready (can apply immediately)
âœ“ Extensible (Phase 2b+ additions clearly outlined)
âœ“ Realistic scope (county-based, not full geocoding)
âœ“ Documented (SNAPSHOT section + separate API specs)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¤” FREQUENTLY ASKED QUESTIONS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Q: Can I start implementing Phase 2 now?
A: Yes! All design is complete. Start with migrations, then implement APIs.

Q: Do I need to change Phase 1 code?
A: No. Phase 2 is entirely additive. Phase 1 APIs & tables unchanged.

Q: How long will it take to implement?
A: Estimate 3-5 days for one developer (migrations â†’ API â†’ tests â†’ deploy)

Q: Can we start Phase 2b (geocoding) before Phase 2 is done?
A: Not recommended. Finish Phase 2 (county-based) first, then extend.

Q: What if OpenStates doesn't have sponsor data?
A: API returns empty array. Good error message shown to user. Not blocking.

Q: Can multiple counties share a legislator?
A: Yes, that's the design. county_assignment is JSON array: ["Natrona", "Johnson"]

Q: How do we keep contact info up-to-date?
A: Refresh from OpenStates during nightly sync (Phase 2 automation, future)

Q: What about 3rd party geocoding services?
A: Deferred to Phase 2b. For now, user selects county manually or from prefs.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ NEXT STEPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

IMMEDIATE:
â”œâ”€ [ ] Team review: PHASE_2_DESIGN_SUMMARY.txt (10 min)
â”œâ”€ [ ] Discuss: Any design concerns or questions?
â”œâ”€ [ ] Approve: Phase 2 scope & architecture?
â””â”€ [ ] Assign: Backend developer for implementation

WEEK 2:
â”œâ”€ [ ] Copy migration files to worker/migrations_wy/
â”œâ”€ [ ] Apply migrations to local D1
â”œâ”€ [ ] Seed wy_legislators (manual or from OpenStates)
â”œâ”€ [ ] Seed bill_sponsors (from current civic_items)
â”œâ”€ [ ] Implement /api/civic/bill-sponsors handler
â”œâ”€ [ ] Implement /api/civic/delegation/preview handler
â”œâ”€ [ ] Write Jest tests for both endpoints
â”œâ”€ [ ] Deploy to Cloudflare Workers staging
â””â”€ [ ] Verify endpoints work with sample data

WEEK 3:
â”œâ”€ [ ] Frontend: Update bill detail cards to show sponsors
â”œâ”€ [ ] Frontend: Add "Your delegation" card to Civic Watch
â”œâ”€ [ ] Testing: Full integration test (end-to-end)
â””â”€ [ ] Deploy to production

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ YOU'RE READY TO GO!

This design is complete, realistic, and ready for implementation.
Share with your team and start building Phase 2.

Questions? Refer back to:
â”œâ”€ PHASE_2_DESIGN_SUMMARY.txt (overview)
â”œâ”€ SNAPSHOT_120625_COMPREHENSIVE_WITH_PHASE2.md (reference)
â””â”€ PHASE_2_API_SPECS.md (developer guide)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Generated: December 8, 2025
Location: C:\Users\ancho\Downloads\

All files ready for team consumption.
