{{/* layouts/events/hub.html */}}

{{ define "head" }}
  {{ partial "head.html" . }}
  <!-- TimelineJS CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.knightlab.com/libs/timeline3/latest/css/timeline.css"
  />
{{ end }}

{{ define "main" }}
<article class="prose mx-auto">
  <h1 class="f2 tc">ğŸ§­ Our Upcoming Events</h1>

  <!-- Controls (ZIP search + view toggle) -->
  {{ partial "events/map-controls.html" . }}

  <!-- Map container -->
  <div
    id="map"
    style="height: 500px; margin-bottom: 2rem;"
    role="application"
    aria-label="Upcoming events map"
  ></div>

  <!-- Timeline container -->
  <div
    id="timeline-embed"
    aria-label="Event timeline"
  ></div>
</article>
{{ end }}

{{ define "scripts" }}
  <!-- TimelineJS JS -->
  <script
    src="https://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"
    defer
  ></script>

  <!-- Events hub logic -->
  {{ if eq .RelPermalink "/events/" }}
    <script type="module" src="{{ "js/events/hub.js" | relURL }}"></script>
  {{ end }}
{{ end }}
