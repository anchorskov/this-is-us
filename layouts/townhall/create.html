{{- /* ──────────────────────────────────────────────────────────────
     layouts/townhall/create.html
     Template for /townhall/create/  – “new thread” page
   ────────────────────────────────────────────────────────────── */}}

{{ define "main" }}
<main class="mx-auto max-w-4xl px-4 py-12 space-y-8">

  <!-- ░░ Header ░░ -->
  <header class="text-center space-y-2">
    <h1 class="text-3xl font-bold">📝 Start a Town-Hall Thread</h1>
    <p class="text-gray-600">
      Share a civic idea, concern, or proposal with your neighbours.
    </p>
  </header>

  <!-- ░░ Form ░░ -->
  <form id="new-thread-form" class="bg-white shadow rounded-lg p-6 space-y-6">

    <div class="space-y-1">
      <label for="new-title" class="font-medium">Title *</label>
      <input id="new-title" name="title"
             class="w-full border rounded p-2"
             maxlength="120"
             placeholder="Short, descriptive headline"
             required>
    </div>

    <div class="space-y-1">
      <label for="new-body" class="font-medium">Message *</label>
      <textarea id="new-body" name="body"
                rows="6"
                class="w-full border rounded p-2"
                placeholder="Describe the issue or idea…"
                required></textarea>
    </div>

    <div class="grid md:grid-cols-2 gap-4">

      <!-- ZIP (validated in JS) -->
      <div class="space-y-1">
        <label for="zip-code" class="font-medium">ZIP code *</label>
        <input id="zip-code"
               class="w-full border rounded p-2"
               maxlength="5"
               inputmode="numeric"
               pattern="[0-9]{5}"
               placeholder="e.g. 82001"
               required>
      </div>

      <!-- Optional topic tag -->
      <div class="space-y-1">
        <label for="filter-topic" class="font-medium">Topic</label>
        <input id="filter-topic" name="topic"
               class="w-full border rounded p-2"
               placeholder="Budget, school board, roads…">
      </div>
    </div>

    <!-- Preview map (shown by JS after ZIP lookup) -->
    <div id="mini-map-wrapper" class="hidden">
      <div id="mini-map" class="h-56 w-full rounded mt-4"></div>
    </div>

    <div class="flex justify-end">
      <button type="submit"
              class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">
        Post Thread
      </button>
    </div>
  </form>

</main>
{{ end }}
