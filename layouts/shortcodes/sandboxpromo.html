{{/* layouts/partials/sandbox-promo.html */}}

<div class="bg-blue-50 border-l-4 border-blue-600 p-6 rounded-md text-center my-8">
  <h2 class="text-2xl font-bold text-blue-800">🧠 Six Second Sandbox</h2>
  <p class="mt-2 text-gray-700">
    Pause, reflect, and reclaim your voice in seconds. Drop any meme, post, or claim—and let our interactive tool guide your critical thinking journey.
  </p>
  <button class="button-legacy"
    id="sandboxBtn"
    onclick="checkSandboxAuth()"
    class="inline-block mt-4 bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition"
  >
    Try the Sandbox →
  </button>
</div>

<script>
  function checkSandboxAuth() {
    const user = firebase.auth().currentUser;
    if (user) {
      window.location.href = '/sandbox/';
    } else {
      alert("🔐 Please sign in to access the Sandbox.");
      window.location.href = '/login/';
    }
  }

  firebase.auth().onAuthStateChanged(user => {
    const btn = document.getElementById('sandboxBtn');
    if (!user && btn) {
      btn.classList.add('opacity-50', 'cursor-not-allowed');
      btn.innerText = "🔒 Sign in to try the Sandbox";
    }
  });
</script>
