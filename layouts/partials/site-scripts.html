<!-- layouts/partials/site-scripts.html -->
<script>
  console.log("‚úÖ Site scripts loaded correctly.");

  (function () {
    const host = window.location.hostname;
    const port = window.location.port;

    if (host === 'localhost' && port === '1313') {
      // During local dev, point to production API to test live data
      window.EVENTS_API_URL = "https://this-is-us.org/api";
      console.log("üêõ Dev override ‚Üí", window.EVENTS_API_URL);
    } else {
      // In production on this-is-us.org, use relative path
      window.EVENTS_API_URL = "/api";
      console.log("üåê Using API ‚Üí", window.EVENTS_API_URL);
    }
  })();
</script>

<!-- üåç Load Leaflet globally -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
  crossorigin=""
/>
<script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
  crossorigin=""
  defer
></script>
