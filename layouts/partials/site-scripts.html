<!-- layouts/partials/site-scripts.html -->
<script>
  console.log("‚úÖ Site scripts loaded correctly.");

  (function() {
    const host = window.location.hostname;
    const port = window.location.port;

    if (host === 'localhost' && port === '1313') {
      // During local dev, point to production API to test live data
      window.EVENTS_API_URL = "https://this-is-us.org/api";
      console.log("üêõ Dev override ‚Üí", window.EVENTS_API_URL);
    } else {
      // In production on this-is-us.org, use relative path
      window.EVENTS_API_URL = "/api";
      console.log("üåê Using API ‚Üí", window.EVENTS_API_URL);
    }
  })();
</script>

<!-- Load Leaflet for interactive maps -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

{{ if and (eq .Section "events") (eq .Kind "section") }}
  <!-- Include Events Hub script only on the Events page -->
  <script src="{{ "js/events/hub.js" | relURL }}"></script>
{{ end }}