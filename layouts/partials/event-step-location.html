<!-- layouts/partials/event-step-location.html – ZIP-first location step (map, draggable pin, OK button) -->

<form id="addressForm" class="space-y-4">

  <p class="text-sm text-gray-600">
    Start by entering an address <em>or</em> drop a pin on the map to choose your event location.
  </p>

  <div>
    <label for="address" class="block font-medium mb-1">Street Address</label>
    <input id="street"
           name="street"
           class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
           placeholder="123 Main St"
           autocomplete="off"
           autofocus />
  </div>

  <div class="grid grid-cols-6 gap-2">
    <div class="col-span-2">
      <label for="zip" class="block font-medium mb-1">ZIP</label>
      <input id="zip"
             name="zip"
             class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
             autocomplete="off" />
    </div>
    <div class="col-span-3">
      <label for="city" class="block font-medium mb-1">City</label>
      <input id="city"
             name="city"
             class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
             autocomplete="off" />
    </div>
    <div>
      <label for="state" class="block font-medium mb-1">ST</label>
      <input id="state"
             name="state"
             class="w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
             autocomplete="off" />
    </div>
  </div>

  <label class="inline-flex items-center gap-2 text-sm">
    <input type="checkbox" id="isPark" class="form-checkbox h-5 w-5 text-green-600" />
    <span class="font-medium">Event in a park or open field</span>
  </label>

  <button id="searchAddress"
          type="submit"
          class="w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 transition duration-150 shadow">
    <span class="material-icons-outlined text-base">search</span>
    Find & Zoom
  </button>

  <small class="text-xs text-gray-500 mt-1 block">
    Tip: Press <kbd>Enter</kbd> or click the button. City/State will auto-fill when ZIP is complete.
  </small>

  <!-- 🌐 Map container -->
  <div id="map" class="h-56 sm:h-64 md:h-72 rounded-md mt-4 border border-gray-300"></div>

  <!-- 📍 Result & error display -->
  <div id="latlonDisplay" class="text-sm text-green-700 mt-2 font-mono"></div>
  <div id="errorMsg" class="text-sm text-red-600 mt-1 font-semibold"></div>

  <!-- ✅ OK / continue button -->
  <button id="loc-ok"
          type="button"
          disabled
          aria-disabled="true"
          class="mt-4 w-full px-4 py-2 rounded-md bg-green-600 text-white opacity-50 hover:bg-green-700 transition duration-150">
    ✅ OK – Continue to event details
  </button>

</form>
